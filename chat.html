<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>charterer-chat</title>
  <style>
    body {
      font-family: 'Comic Sans MS', cursive;
      background: #e0f7fa;
      text-align: center;
      padding: 30px;
      transition: background 0.5s ease;
    }
    h1 {
      font-size: 2.2rem;
    }
    .characters {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 15px;
      margin: 20px 0;
    }
    .character-btn {
      font-size: 1.2rem;
      padding: 10px 20px;
      border-radius: 15px;
      border: none;
      cursor: pointer;
      background-color: #4dd0e1;
      color: white;
      transition: background 0.3s;
    }
    .character-btn:hover {
      background-color: #0097a7;
    }
    .chat-box {
      margin-top: 30px;
      max-width: 600px;
      margin-left: auto;
      margin-right: auto;
      background: white;
      border-radius: 12px;
      padding: 20px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }
    .bubble {
      padding: 10px 15px;
      border-radius: 15px;
      margin: 10px;
      display: inline-block;
      max-width: 80%;
      text-align: left;
      animation: typing 0.5s ease;
    }
    @keyframes typing {
      0% { opacity: 0; transform: translateY(10px); }
      100% { opacity: 1; transform: translateY(0); }
    }
    .user {
      background: #c5e1a5;
      text-align: right;
      float: right;
    }
    input[type="text"] {
      width: 60%;
      padding: 10px;
      border-radius: 10px;
      border: 1px solid #ccc;
    }
    button.send-btn, button.clear-btn, button.trivia-btn {
      padding: 10px 15px;
      margin: 5px;
      border-radius: 10px;
      background-color: #4dd0e1;
      color: white;
      border: none;
      cursor: pointer;
    }
    select {
      padding: 5px;
      margin-left: 10px;
    }
    @media (max-width: 600px) {
      input[type="text"] {
        width: 90%;
        margin-top: 10px;
      }
    }
  </style>
</head>
<body>
  <h1>üí¨ Welcome to charterer-chat</h1>
  <label for="mood">Mood:</label>
  <select id="mood">
    <option value="default">Default</option>
    <option value="happy">Happy</option>
    <option value="sad">Sad</option>
    <option value="goofy">Goofy</option>
  </select>

  <div class="characters">
    <button class="character-btn" onclick="startChat('SpongeBob')">üßΩ SpongeBob</button>
    <button class="character-btn" onclick="startChat('Patrick')">üåü Patrick</button>
    <button class="character-btn" onclick="startChat('Squidward')">üé∑ Squidward</button>
    <button class="character-btn" onclick="startChat('Mr. Krabs')">üí∞ Mr. Krabs</button>
    <button class="character-btn" onclick="startChat('Sandy')">üêøÔ∏è Sandy</button>
    <button class="character-btn" onclick="startChat('Plankton')">ü¶† Plankton</button>
    <button class="character-btn" onclick="startChat('Gary')">üêå Gary</button>
    <button class="character-btn" onclick="startChat('Pearl')">üê≥ Pearl</button>
    <button class="character-btn" onclick="startChat('Larry')">ü¶û Larry</button>
    <button class="character-btn" onclick="startChat('Mrs. Puff')">üéà Mrs. Puff</button>
  </div>

  <div id="chat" class="chat-box" style="display:none;">
    <div id="chatLog"></div>
    <input type="text" id="userInput" placeholder="Type here...">
    <button class="send-btn" onclick="sendMessage()">Send</button>
    <button class="clear-btn" onclick="clearChat()">Clear</button>
    <button class="trivia-btn" onclick="showTrivia()">Trivia Time!</button>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      let currentChar = "";
      const chat = document.getElementById("chat");
      const log = document.getElementById("chatLog");
      const mood = document.getElementById("mood");

      const triviaFacts = [
        "The Krabby Patty secret formula has never been revealed!",
        "SpongeBob lives in a pineapple because it smells good!",
        "Patrick's full name is Patrick Star.",
        "Squidward only has six tentacles, not eight.",
        "SpongeBob was originally going to be called SpongeBoy."
      ];

      const phrases = {
        SpongeBob: {
          default: ["I'm Ready!", "F is for friends!", "Best time to wear a striped sweater!", "I'm a Goofy Goober, yeah!", "I don't need it... I NEED IT!"],
          happy: ["Yippee! Jellyfishing time!", "I love my job!", "Time for some fun!", "Wanna flip Krabby Patties together?", "Life is the best underwater!"],
          sad: ["I guess I'm not ready...", "Why won't Squidward smile?", "It's okay to be a little sad sometimes...", "No more jellyfish today...", "I miss Gary..."],
          goofy: ["I'm a Goofy Goober, yeah!", "Ravioli, Ravioli, give me the Formuoli!", "You don‚Äôt need a license to drive a sandwich!", "Imagination~", "Wheeeeee!"]
        },
        Patrick: {
          default: ["Is mayonnaise an instrument?", "My mind is an enigma.", "I can't see my forehead.", "Let's do nothing all day!", "The ugly barnacle story!"],
          happy: ["Jellyfish day!", "Best day ever!", "Wumboing makes me happy!", "Let‚Äôs goof off!", "Ice cream?"],
          sad: ["Why doesn't SpongeBob wanna play?", "Sadness is... confusing...", "Do I even have a brain?", "No more cookies?", "Nobody likes me today."],
          goofy: ["Wumbo. It's first grade!", "Baaaahhhh!", "The inner machinations of my mind are an enigma *milk spills*", "Firmly grasp it!", "Lid... lid... LID!"]
        },
        Squidward: {
          default: ["I hate all of you.", "Clarinet solo time.", "I'm surrounded by idiots.", "Just another day in hell.", "Why must I suffer?"],
          happy: ["My art is appreciated... for once.", "Peace and quiet.", "Maybe today won't be awful.", "A silent ocean is a happy ocean.", "No SpongeBob in sight. Yes."],
          sad: ["Another failed performance...", "I'm not appreciated.", "Nobody understands true art.", "SpongeBob ruins everything...", "My clarinet hates me."],
          goofy: ["This is not your average darkness... this is advanced darkness.", "I‚Äôm not a Krusty Krab!", "SpongeBob, what is wrong with you?", "Help me...", "What fresh nonsense now?"]
        },
        MrKrabs: {
          default: ["Money, money, money!", "Get back to work!", "That costs extra.", "Where's me formula?!", "I love me cash."],
          happy: ["More customers, more gold!", "Sales be up, lads!", "Ahoy, a good day!", "Yarrr, profits ahead!", "Tip jar‚Äôs full today!"],
          sad: ["The till‚Äôs empty...", "A refund?! Me heart!", "No customers?", "This be a dark day for coin.", "Even me safe be weeping..."],
          goofy: ["I once sold air to fish!", "Walk the plank, wallet!", "Arrr I smell a bargain!", "Eugene go brrr", "Krabby Patty NFTs, lad!"]
        },
        Sandy: {
          default: ["Howdy y'all!", "Science rules!", "I miss Texas...", "Karate time!", "Squirrel power!"]
        },
        Plankton: {
          default: ["I will get that formula!", "Curse you, Krabs!", "Computer wife, initiate plan Z!", "Prepare for evil!", "Failure again?!"]
        },
        Gary: {
          default: ["Meow."],
          happy: ["Meow!"],
          sad: ["meooow..."],
          goofy: ["Meeeooowwww"]
        },
        Pearl: {
          default: ["Daaaad, stop being cheap!", "Ew, SpongeBob!", "Let‚Äôs go shopping!", "Where‚Äôs the mall?", "Dance party time!"]
        },
        Larry: {
          default: ["Bro, do you even lift?", "Beach time!", "Let‚Äôs get pumped!", "Protein shakes FTW!", "Lifeguard on duty!"]
        },
        MrsPuff: {
          default: ["Not another accident!", "SpongeBob, nooo!", "Puff out!", "Detention again?!", "This is my nightmare!"]
        }
      };

      const colors = {
        SpongeBob: "#fff176",
        Patrick: "#f48fb1",
        Squidward: "#b0bec5",
        MrKrabs: "#ef5350",
        Sandy: "#a1887f",
        Plankton: "#80cbc4",
        Gary: "#ba68c8",
        Pearl: "#ce93d8",
        Larry: "#ff8a65",
        MrsPuff: "#ffe082"
      };

      const backgrounds = {
        SpongeBob: "#e1f5fe",
        Patrick: "#fce4ec",
        Squidward: "#e0e0e0",
        MrKrabs: "#ffebee",
        Sandy: "#efebe9",
        Plankton: "#e0f2f1",
        Gary: "#f3e5f5",
        Pearl: "#f8bbd0",
        Larry: "#ffe0b2",
        MrsPuff: "#fff8e1"
      };

      window.startChat = function(character) {
        currentChar = character;
        document.body.style.background = backgrounds[character] || "#e0f7fa";
        chat.style.display = "block";
        log.innerHTML = `<div class='bubble' style='background:${colors[character]};'>Hey, I'm ${character}! Do you want to chat?</div>`;
      }

      window.sendMessage = function() {
        const input = document.getElementById("userInput");
        const message = input.value.trim();
        if (!message) return;
        log.innerHTML += `<div class='bubble user'>${message}</div>`;

        if (message.toLowerCase().includes("chum bucket")) {
          log.innerHTML += `<div class='bubble' style='background:red;'>üîí You discovered the Chum Bucket secret mission!</div>`;
        }

        setTimeout(() => {
          let tone = mood.value || "default";
          const responses = phrases[currentChar]?.[tone] || ["Hmm..."];
          const reply = responses[Math.floor(Math.random() * responses.length)];
          let charColor = colors[currentChar] || "#eee";
          let span = document.createElement("div");
          span.className = "bubble";
          span.style.background = charColor;
          span.textContent = "";
          log.appendChild(span);

          let i = 0;
          let typer = setInterval(() => {
            span.textContent += reply[i];
            i++;
            if (i >= reply.length) clearInterval(typer);
          }, 40);
        }, 300);

        input.value = "";
        input.focus();
      }

      window.clearChat = function() {
        log.innerHTML = "";
      }

      window.showTrivia = function() {
        const fact = triviaFacts[Math.floor(Math.random() * triviaFacts.length)];
        log.innerHTML += `<div class='bubble' style='background:#ffe082;'>üß† Trivia: ${fact}</div>`;
      }
    });
  </script>
</body>
</html>
